dateBtn.addEventListener('click', (e) => {
  console.log('🕑 Date picker opened');
  t.popup({
    type: 'datetime',
    title: 'Due Date',
    mouseEvent: e, // ← Required so Trello knows where to anchor popup
    date: new Date(),
    callback: function(t, opts) {
      if (opts?.date) {
        const selected = new Date(opts.date).toLocaleDateString();
        console.log('📅 Date selected:', selected);
        task.dueDate = selected;
        dateBtn.innerHTML = `🕑 ${selected}`;
      } else {
        console.log('📅 No date selected');
      }
    }
  });
});
