dateBtn.addEventListener('click', (e) => {
  console.log('ğŸ•‘ Date picker opened');
  t.popup({
    type: 'datetime',
    title: 'Due Date',
    mouseEvent: e, // â† Required so Trello knows where to anchor popup
    date: new Date(),
    callback: function(t, opts) {
      if (opts?.date) {
        const selected = new Date(opts.date).toLocaleDateString();
        console.log('ğŸ“… Date selected:', selected);
        task.dueDate = selected;
        dateBtn.innerHTML = `ğŸ•‘ ${selected}`;
      } else {
        console.log('ğŸ“… No date selected');
      }
    }
  });
});
